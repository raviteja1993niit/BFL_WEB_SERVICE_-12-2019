<div class="reset_password_screen">

  <div class="reset_password_image">
    <img src="assets/logo-header.png">
    <br>
    <h5>Posidex Technologies Pvt Ltd</h5>
  </div>
  <div class="page-loader__spinner">
    <svg viewBox="25 25 50 50">
      <circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />
    </svg>
  </div>
  <div class="card">
    <div class="card_header">
      <div class="reset_password_logo">
        <img src="assets/logo1.png">
      </div>
      <div class="reset_password_heading">
        Reset Password
      </div>
    </div>
    <div class="reset_password_form p-3">
      <form [formGroup]="resetFormGroup" (ngSubmit)="resetPassword()">
        <div class="form-group form-group--float mt-5 mb-0" [ngClass]="{
            'has-danger': resetFormGroup.controls.currentPassword.invalid && (resetFormGroup.controls.currentPassword.dirty || resetFormGroup.controls.currentPassword.touched),
            'has-success': resetFormGroup.controls.currentPassword.valid && (resetFormGroup.controls.currentPassword.dirty || resetFormGroup.controls.currentPassword.touched)
            }">
          <label for="currentPassword">Current Password <span class="text-danger"> *</span></label>
          <input class="form-control" type="password" [(ngModel)]="passwordDto.currentPassword" name="currentPassword" formControlName="currentPassword" />
        </div>
        <div class="form-control-feedback field_error">
          <p class="text-danger" *ngIf="resetFormGroup.controls.currentPassword.errors?.required && resetFormGroup.controls.currentPassword.touched">Please Enter the Current Password</p>
          <p *ngIf="resetFormGroup.controls.currentPassword.errors?.minlength" class="text-danger">
            Current password must be at least {{minNum}} characters long.
          </p>
          <p *ngIf="resetFormGroup.controls.currentPassword.errors?.maxlength" class="text-danger">
            Current password can be max {{maxNum}} characters long.
          </p>
        </div>


        <div [formGroup]="confirmPasswordFormGroup">
          <div class="form-group form-group--float mt-5 mb-0" [ngClass]="{
                'has-danger': confirmPasswordFormGroup.controls.newPassword.invalid && (confirmPasswordFormGroup.controls.newPassword.dirty || confirmPasswordFormGroup.controls.newPassword.touched),
                'has-success': confirmPasswordFormGroup.controls.newPassword.valid && (confirmPasswordFormGroup.controls.newPassword.dirty || confirmPasswordFormGroup.controls.newPassword.touched)
                }">
            <label for="newPassword">New Password <span class="text-danger"> *</span></label>
            <input class="form-control" type="password" [(ngModel)]="passwordDto.newPassword" name="newPassword" formControlName="newPassword">
          </div>
          <div class="form-control-feedback field_error">
            <p class="text-danger" *ngIf="confirmPasswordFormGroup.controls.newPassword.errors?.required && confirmPasswordFormGroup.controls.newPassword.touched">Please Enter the New Password</p>
            <p *ngIf="confirmPasswordFormGroup.controls.newPassword.errors?.minlength" class="text-danger">
              New password must be at least {{minNum}} characters long.
            </p>
            <p *ngIf="confirmPasswordFormGroup.controls.newPassword.errors?.maxlength" class="text-danger">
              New password can be max {{maxNum}} characters long.
            </p>
          </div>


          <div class="form-group form-group--float mt-5 mb-0" [ngClass]="{
                'has-danger': confirmPasswordFormGroup.controls.confirmPassword.invalid && (confirmPasswordFormGroup.controls.confirmPassword.dirty || confirmPasswordFormGroup.controls.confirmPassword.touched),
                'has-success': confirmPasswordFormGroup.controls.confirmPassword.valid && (confirmPasswordFormGroup.controls.confirmPassword.dirty || confirmPasswordFormGroup.controls.confirmPassword.touched)
                }">
            <label for="confirmPassword">Confirm Password <span class="text-danger"> *</span></label>
            <input class="form-control" type="password" [(ngModel)]="passwordDto.confirmPassword" name="confirmPassword" formControlName="confirmPassword">
          </div>
          <div class="form-control-feedback field_error">
            <p class="text-danger" *ngIf="confirmPasswordFormGroup.controls.confirmPassword.errors?.required && confirmPasswordFormGroup.controls.confirmPassword.touched">Please Enter the Confirm Password</p>
            <p class="text-danger" *ngIf="confirmPasswordFormGroup.errors?.doesMatchPassword">Password does not match</p>
            <p *ngIf="confirmPasswordFormGroup.controls.confirmPassword.errors?.minlength" class="text-danger">
              Confirm password must be at least {{minNum}} characters long.
            </p>
            <p *ngIf="confirmPasswordFormGroup.controls.confirmPassword.errors?.maxlength" class="text-danger">
              Confirm password can be max {{maxNum}} characters long.
            </p>
          </div>
        </div>

        <div class="row mb-0" style="margin-top:5%;">
          <div class="col-lg-12 col-md-12">
            <div class="form-group mb-0 text-center">
              <button type="submit" [disabled]="!resetFormGroup.valid" class="btn btn-primary waves-effect" >Submit</button>
              <button type="reset" class="btn btn-default waves-effect ml-2 mr-2">Reset</button>
              <button type="button" (click)="goBack()" class="btn btn-primary waves-effect">Back</button>
            </div>
          </div>
        </div>

      </form>


    </div>
  </div>
</div>